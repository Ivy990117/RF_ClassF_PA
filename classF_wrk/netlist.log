; Top Design: "mwcl2_lib:HB2TonePAE_Fswp:schematic"
; Netlisted using Hierarchy Policy: "Standard"

Options ResourceUsage=yes UseNutmegFormat=no EnableOptim=no TopDesignName="mwcl2_lib:HB2TonePAE_Fswp:schematic" DcopOutputNodeVoltages=yes DcopOutputPinCurrents=yes DcopOutputAllSweepPoints=no DcopOutputDcopType=0
; Library Name: mwcl2_lib
; Cell Name: 3_in
; View Name: schematic
define "3_in" ( P1  P2  P3 ) 
;parameters 
#uselib "SMT_CapacitorLibrary" , "scCapp2_19950814" 
scCapp2_19950814:C4  N__15 N__16 family="sc_atc_100_CDR11BG_J_19960828" PART_NUM=14 
model MSub1 MSUB H=0.762 mm Er=3.66 Mur=1 Cond=1.0E+50 Hu=1.0e+033 mm T=0.035 mm TanD=0 Rough=0 mm DielectricLossModel=1 FreqForEpsrTanD=1.0 GHz LowFreqForTanD=1.0 kHz HighFreqForTanD=1.0 THz RoughnessModel=2 
MLIN2:TL1  P1 N__15 Subst="MSub1" W=1.62 mm L=5 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL2  N__16 N__14 Subst="MSub1" W=iw2 mm L=il2 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL3  N__14 N__13 Subst="MSub1" W=iw3 mm L=il3 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL4  N__13 N__12 Subst="MSub1" W=iw4 mm L=il4 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL5  N__12 N__11 Subst="MSub1" W=iw5 mm L=il5 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL6  N__11 N__9 Subst="MSub1" W=iw6 mm L=il6 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL7  N__10 P2 Subst="MSub1" W=iw8 mm L=il8 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL8  N__7 N__8 Subst="MSub1" W=iw7 mm L=il7 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL9  N__6 P3 Subst="MSub1" W=iw7 mm L=3 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MTEE_ADS:Tee1  N__10 N__9 N__8 Subst="MSub1" W1=iw6 mm W2=iw6 mm W3=iw7 mm 
MSABND:Bend1  N__7 N__6 Subst="MSub1" W=iw7 mm Angle=90 M=0.5 
MRSTUB:Stub1  P3 Subst="MSub1" Wi=iw7 mm L=5 mm Angle=70 
#uselib "SMT_CapacitorLibrary" , "scCapp2_19950814" 
scCapp2_19950814:C5  0 N__6 family="sc_atc_100_CDR11BG_J_19960828" PART_NUM=14 

iw2=1.7 tune{ 0.5 to 20 by 0.16 }
iw3=2.7 tune{ 0.5 to 20 by 0.16 }
iw4=1.8 tune{ 0.5 to 20 by 0.16 }
iw5=8.5 tune{ 0.5 to 20 by 0.16 }
iw6=4 tune{ 0.5 to 20 by 0.16 }
iw7=0.7 tune{ 0.5 to 20 by 0.16 }
iw8=14 tune{ 0.5 to 20 by 0.16 }
il2=3 tune{ 0.5 to 20 by 0.16 }
il3=4 tune{ 0.5 to 20 by 0.16 }
il4=12.3 tune{ 0.5 to 20 by 0.16 }
il5=2 tune{ 0.5 to 20 by 0.16 }
il6=12.6 tune{ 0.5 to 20 by 0.16 }
il7=12.5 tune{ 0.5 to 20 by 0.5 }
il8=8 tune{ 0.5 to 20 by 0.5 }
end "3_in"

; Library Name: mwcl2_lib
; Cell Name: 3_out
; View Name: schematic
define "3_out" ( P1  P2  P3 ) 
;parameters 
model MSub1 MSUB H=0.762 mm Er=3.66 Mur=1 Cond=1.0E+50 Hu=1.0e+033 mm T=0.035 mm TanD=0 Rough=0 mm DielectricLossModel=1 FreqForEpsrTanD=1.0 GHz LowFreqForTanD=1.0 kHz HighFreqForTanD=1.0 THz RoughnessModel=2 
MLIN2:TL8  N__6 P2 Subst="MSub1" W=w1 mm L=l1 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL7  N__11 N__3 Subst="MSub1" W=w2 mm L=l2 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL6  N__12 N__11 Subst="MSub1" W=w3 mm L=l3 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL5  N__7 N__12 Subst="MSub1" W=w4 mm L=l4 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL4  N__14 N__7 Subst="MSub1" W=w5 mm L=l5 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL3  N__13 N__14 Subst="MSub1" W=w6 mm L=l6 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL2  N__0 N__13 Subst="MSub1" W=w7 mm L=l7 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL1  P1 N__8 Subst="MSub1" W=w8 mm L=l8 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MTEE_ADS:Tee1  N__0 N__8 N__5 Subst="MSub1" W1=w7 mm W2=w7 mm W3=w9 mm 
MLIN2:TL9  N__9 N__5 Subst="MSub1" W=w9 mm L=l9 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
MLIN2:TL10  N__15 P3 Subst="MSub1" W=w9 mm L=l10 mm Wall1=2.5e+028 mm Wall2=2.5e+028 mm Mod=1 
#uselib "SMT_CapacitorLibrary" , "scCapp2_19950814" 
scCapp2_19950814:C5  0 P3 family="sc_atc_100_CDR11BG_J_19960828" PART_NUM=14 
#uselib "SMT_CapacitorLibrary" , "scCapp2_19950814" 
scCapp2_19950814:C4  N__3 N__6 family="sc_atc_100_CDR11BG_J_19960828" PART_NUM=14 
MSABND:Bend1  N__15 N__9 Subst="MSub1" W=w9 mm Angle=90 M=0.5 

w1=1.62 tune{ 0.5 to 25 by 0.1 }
w2=2.6 tune{ 0.5 to 25 by 0.5 }
w3=3 tune{ 0.5 to 25 by 0.1 }
w4=31 tune{ 0.5 to 45 by 1 }
w5=1.7 tune{ 0.5 to 25 by 0.1 }
w6=59 tune{ 0.5 to 65 by 1 }
w7=2 tune{ 0.5 to 25 by 0.1 }
w8=1.4 tune{ 0.5 to 25 by 0.1 }
w9=0.4 tune{ 0.2 to 25 by 0.1 }
l1=5 tune{ 0.5 to 25 by 0.5 }
l2=5 tune{ 0.5 to 25 by 0.1 }
l3=13.6 tune{ 0.5 to 25 by 0.1 }
l4=1.2 tune{ 0.5 to 25 by 0.1 }
l5=15 tune{ 0.5 to 15 by 0.1 }
l6=2 tune{ 0.5 to 25 by 0.1 }
l7=12.4 tune{ 0.5 to 25 by 0.1 }
l8=7.8 tune{ 0.5 to 25 by 0.1 }
l9=43 tune{ 0.5 to 45 by 1 }
l10=5 tune{ 0.5 to 25 by 0.1 }
MRSTUB:Stub1  P3 Subst="MSub1" Wi=w9 mm L=5 mm Angle=70 
end "3_out"

; Library Name: mwcl2_lib
; Cell Name: All_Sample
; View Name: schematic
define All_Sample ( P1  P2  P3  P4 ) 
;parameters 
"3_in":I__51  P1 N__30 P2 
"3_out":I__33  N__31 P4 P3 
#uselib "CGH40_r6" , "CGH40010F_r6_CGH40_r6"
"CGH40010F_r6_CGH40_r6":X1  N__30 N__31 0 N__28 tcase=25 crth=5.0 
end All_Sample

HB:HB1 MaxOrder=Max_IMD_order Freq[1]=RFfreq-fspacing/2 Freq[2]=RFfreq+fspacing/2 Order[1]=7 Order[2]=7 StatusLevel=2 FundOversample=1 \
Restart=no UseAllSS_Freqs=yes UseOutFile=no \
UseInFile=no SweepVar="RFfreq" SweepPlan="HB1_stim" OutputPlan="HB1_Output" 

SweepPlan: HB1_stim Start=1200 MHz Stop=1300 MHz Step=10 MHz 

OutputPlan:HB1_Output \
      Type="Output" \
      UseNodeNestLevel=yes \
      NodeNestLevel=2 \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      EquationName[1]="Max_IMD_order" \
      EquationName[2]="RFpower" \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2 \
      UseDeviceCurrentNestLevel=no \
      DeviceCurrentNestLevel=0 \
      DeviceCurrentDeviceType="All" \
      DeviceCurrentSymSyntax=yes \
      UseCurrentNestLevel=yes \
      CurrentNestLevel=999 \
      UseDeviceVoltageNestLevel=no \
      DeviceVoltageNestLevel=0 \
      DeviceVoltageDeviceType="All"

Tran:HB1_tran HB_Sol=1 SteadyState=1 StatusLevel=3 \
Freq[1]=RFfreq-fspacing/2 Order[1]=7 

Component:tahb_HB1 Module="ATAHB" Type="ModelExtractor" \ 
 Tran_Analysis="HB1_tran" HB_Analysis="HB1" 


global f_bb=0.5*RFfreq
global f_1 = 1.5*RFfreq
global f_2 = 2.5*RFfreq
global f_3 = 3.5*RFfreq
global f_4 = 4.5*RFfreq
global Z_load = if freq <= f_bb then Z_l_bb elseif freq <= f_1 then Z_l_fund elseif freq <= f_2 then Z_l_2 elseif freq <= f_3 then Z_l_3 elseif freq <= f_4 then Z_l_4 else Z_l_5 endif

Z0=50
;Load Impedances=
Z_l_bb=Z0+j*0
Z_l_fund = Z0 + j*0
Z_l_2 = Z0 + j*0
Z_l_3 = Z0 + j*0
Z_l_4 = Z0 + j*0
Z_l_5 = Z0 + j*0
;Source Impedances=
Z_s_bb=Z0+j*0
Z_s_fund = Z0 + j*0
Z_s_2 = Z0 + j*0
Z_s_3 = Z0 + j*0
Z_s_4 = Z0 + j*0
Z_s_5 = Z0 + j*0
Z_s = if freq <= f_bb then Z_s_bb elseif freq <= f_1 then Z_s_fund elseif freq <= f_2 then Z_s_2 elseif freq <= f_3 then Z_s_3 elseif freq <= f_4 then Z_s_4 else Z_s_5 endif
Short:Iload  N__9 Vload Mode=0 SaveCurrent=yes 
Short:I_input  N__16 Vinput Mode=0 SaveCurrent=yes 
C:C1  N__10 N__9 C=1.0 uF 
C:C2  Vinput N__14 C=1.0 uF 
Port:Term1  Vload 0 Num=2 Z=Z_load Noise=yes 
Port:PORT1  N__16 0 Num=1  Z=Z_s  Freq[1]=RFfreq-fspacing/2 Freq[2]=RFfreq+fspacing/2    P[1]=dbmtow(RFpower-3) P[2]=dbmtow(RFpower-3) Noise=yes Pac=polar(dbmtow(0),0) 

RFfreq=850 MHz
fspacing=0.1 GHz
RFpower=10 _dBm
Max_IMD_order=7
Vhigh=28
Vlow=-2.6
Short:Is_low  Vs_low N__11 Mode=0 SaveCurrent=yes 
V_Source:SRC2  Vs_low 0 Type="V_DC" Vdc=Vlow SaveCurrent=1 
L:L2  N__11 N__8 L=1.0 uH Noise=yes  
Short:Is_high  Vs_high N__12 Mode=0 SaveCurrent=yes 
V_Source:G3  Vs_high 0 Type="V_DC" Vdc=Vhigh SaveCurrent=1 
L:L1  N__12 N__13 L=1.0 uH Noise=yes  
All_Sample:X1  N__14 N__8 N__13 N__10 
